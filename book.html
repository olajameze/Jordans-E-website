<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Book - Breazy Productions</title>

  <!-- Consolidated CSS imports -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
  <link href="https://unpkg.com/aos@2.3.1/dist/aos.css" rel="stylesheet">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/flatpickr/dist/flatpickr.min.css">
  <link rel="stylesheet" href="css/style.css">
  
  <!-- EmailJS -->
  <script src="https://cdn.jsdelivr.net/npm/@emailjs/browser@3/dist/email.min.js"></script>
  
  <!-- Deferred scripts -->
  <script src="js/script.js" defer></script>
</head>
<body>
  <!-- Navigation -->
  <nav class="navigation" role="navigation" aria-label="Main navigation">
    <div class="logo">
      <a href="index.html" aria-label="Breazy Productions home">
        <img src="images/logo.png" alt="Breazy Productions logo">
      </a>
    </div>

    <div class="nav-links" id="primary-nav" role="menu">
      <a href="index.html" role="menuitem">Home</a>
      <a href="about.html" role="menuitem">About</a>
      <a href="work.html" role="menuitem">Work</a>
      <a href="book.html" class="active" role="menuitem">Book</a>
      <a href="terms.html" role="menuitem">Terms &amp; Conditions</a>
    </div>

    <button class="menu-btn" id="menu-btn" aria-label="Toggle menu" aria-expanded="false">
      <span class="menu-btn__burger" aria-hidden="true"></span>
    </button>
  </nav>

  <!-- Booking / Contact Intro -->
  <main class="booking-page">
    <section id="booking-intro" class="container booking-intro">
      <h1>Want to discuss your photography or video project?</h1>
      <p class="section-description wide-description">
        To check availability and discuss your vision, please fill out the form below or email us directly at
        <a href="mailto:breazyproductions7@gmail.com">breazyproductions7@gmail.com</a>.
        We aim to reply within 48 hours.
      </p>
    </section>

    <!-- Booking Form -->
    <section id="booking" class="booking-section">
      <div class="container">
        <h2>Book <span>Now</span></h2>
        <p class="section-description">Tell us about your project and preferred dates — we'll get back with availability and a personalised quote.</p>

        <form id="booking-form" class="booking-form" novalidate>
          <div class="form-grid">
            <div class="form-group">
              <label for="name">Name *</label>
              <input type="text" id="name" name="name" required placeholder="Your full name">
            </div>

            <div class="form-group">
              <label for="email">Email *</label>
              <input type="email" id="email" name="email" required placeholder="you@example.com">
            </div>

            <div class="form-group">
              <label for="phone">Phone Number *</label>
              <input type="tel" id="phone" name="phone" required placeholder="+44 7XXX XXXXXX" pattern="[\d\s+\-()+]{7,}">
            </div>

            <div class="form-group">
              <label for="event-type">Type of Project *</label>
              <select id="event-type" name="event_type" required>
                <option value="">Select project type</option>
                <option value="music-video">Music Video</option>
                <option value="promotional-product">Promotional / Product Video</option>
                <option value="testimonial">Testimonial / Case Study</option>
                <option value="event-promo">Event Promo</option>
                <option value="other">Other</option>
              </select>
            </div>

            <div class="form-group">
              <label for="booking-date">Preferred Date &amp; Time *</label>
              <input type="text" id="booking-date" name="booking_date" placeholder="Select date & time" required readonly>
            </div>
          </div>

          <div class="form-group">
            <label for="message">Message</label>
            <textarea id="message" name="message" rows="5" placeholder="Tell us more about the shoot — style, length, location, or links to references."></textarea>
          </div>

          <div id="form-messages" class="form-message" aria-live="polite"></div>

          <div class="form-actions">
            <button type="submit" class="btn btn-primary">Submit Booking Request</button>
            <a href="mailto:breazyproductions7@gmail.com" class="btn btn-secondary">Email Us</a>
          </div>
        </form>
      </div>
    </section>
  </main>

  <!-- Footer -->
  <footer class="footer">
    <div class="footer-container">
      <div class="footer-content">
        <div class="footer-logo">
          <img src="images/logo.png" alt="Breazy Productions Logo">
          <p>Creating cinematic stories that stand the test of time.</p>
        </div>

        <div class="footer-links">
          <div class="footer-nav">
            <h4>Navigation</h4>
            <ul>
              <li><a href="index.html">Home</a></li>
              <li><a href="about.html">About</a></li>
              <li><a href="work.html">Work</a></li>
              <li><a href="book.html" class="active">Book</a></li>
              <li><a href="terms.html">Terms & Conditions</a></li>
            </ul>
          </div>

          <div class="footer-social">
            <h4>Follow Us</h4>
            <div class="social-icons">
              <a href="#" aria-label="Instagram"><i class="fab fa-instagram"></i></a>
              <a href="#" aria-label="TikTok"><i class="fab fa-tiktok"></i></a>
              <a href="#" aria-label="Vimeo"><i class="fab fa-vimeo-v"></i></a>
              <a href="#" aria-label="YouTube"><i class="fab fa-youtube"></i></a>
            </div>
          </div>

          <div class="footer-contact">
            <h4>Contact</h4>
            <ul>
              <li><a href="mailto:breazyproductions7@gmail.com"><i class="fas fa-envelope"></i> breazyproductions7@gmail.com</a></li>
              <li><a href="tel:+44772846189"><i class="fas fa-phone"></i> +44 7728 46189</a></li>
            </ul>
          </div>
        </div>
      </div>
      
      <div class="footer-bottom">
        <p>&copy; 2024 Breazy Productions. All rights reserved. Developed by James Gomez</p>
      </div>
    </div>
  </footer>

  <!-- Scripts -->
  <script src="https://cdn.jsdelivr.net/npm/flatpickr"></script>
  <script type="text/javascript">
    document.addEventListener('DOMContentLoaded', function() {
        // Initialize EmailJS with your public key
        emailjs.init("cHFT-wrNq-nXjCQFq");
        
        // Initialize datepicker
        flatpickr("#booking-date", {
            enableTime: true,
            dateFormat: "Y-m-d H:i",
            minDate: "today",
            maxDate: new Date().fp_incr(90),
            minTime: "09:00",
            maxTime: "17:00",
            disable: [
                function(date) {
                    return date.getDay() === 0; // Disable Sundays
                }
            ]
        });

        // Handle form submission
        const form = document.getElementById('booking-form');
        const messagesDiv = document.getElementById('form-messages');

        if (form) {
            form.addEventListener('submit', function(e) {
                e.preventDefault();
                
                const submitBtn = form.querySelector('button[type="submit"]');
                const originalBtnText = submitBtn.textContent;
                
                // Show loading state
                submitBtn.disabled = true;
                submitBtn.textContent = 'Sending...';
                
                // Clear previous messages
                messagesDiv.textContent = '';
                messagesDiv.className = 'form-message';

                // Collect form data
                const templateParams = {
                    to_name: "Breazy Productions",
                    from_name: form.name.value,
                    from_email: form.email.value,
                    phone: form.phone.value,
                    event_type: form.event_type.value,
                    booking_date: form.booking_date.value,
                    message: form.message.value
                };

                // Send email using EmailJS with your correct service ID
                emailjs.send('service_cnon06x', 'template_65yg6dd', templateParams)
                    .then(function(response) {
                        console.log('SUCCESS!', response.status, response.text);
                        messagesDiv.textContent = 'Thank you! Your booking request has been sent. We\'ll get back to you within 48 hours.';
                        messagesDiv.className = 'form-message success';
                        form.reset();
                    })
                    .catch(function(error) {
                        console.log('Service ID used:', 'service_cnon06x');
                        console.error('FAILED...', error);
                        messagesDiv.textContent = 'Sorry, there was a problem sending your message. Please try again or email us directly.';
                        messagesDiv.className = 'form-message error';
                    })
                    .finally(function() {
                        submitBtn.disabled = false;
                        submitBtn.textContent = originalBtnText;
                    });
            });
        }
    });
  </script>
</body>
</html>